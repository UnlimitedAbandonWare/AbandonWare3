retrieval:
  vector:
    enabled: true
  kalloc:
    enabled: true
    totalK: 32
naver:
  hedge:
    enabled: true
    delay-ms: 120
  search:
    timeout-ms: 2500
    web-top-k: 10
    cache:
      enabled: true
      ttl-seconds: 3600
onnx:
  enabled: true
  pool:
    gpu0:
      size: 1
    gpu1:
      size: 1
    maxConcurrent: 2
  batch:
    max: 16
  model:
    path: /models/cross-encoder.onnx
probe:
  search:
    enabled: true
  admin-token: ${PROBE_TOKEN:}
upstash:
  cache:
    ttl-seconds: 3600
gate:
  citation:
    enabled: true
    min: 3
  finalSigmoid:
    enabled: true
    k: 12.0
    x0: 0.0
zsys:
  request:
    budget-ms: 2500
  onnx:
    max-concurrency: 2
planner.enabled: true
brave.enabled: true
zero_break.enabled: false
rerank.dpp.enabled: true
fusion.wpm.enabled: true
scoring.calibrator.enabled: true
guard.pii.enabled: true
zsys.timebudget.ms: 3500
zsys.onnx.max-concurrency: 2
cache.singleflight.enabled: true
ocr.retriever.enabled: true
quality:
  gate:
    k: 8.0
    x0: 0.6
    min-citations: 3
guard:
  error-break:
    warn:
      onnx-enabled: false
      web-top-k: 8
      official-sources-only: true
    break:
      onnx-enabled: false
      web-top-k: 4
      use-cache-only: true
fusion:
  url:
    canonicalizer:
      enabled: true
rag:
  rerank:
    dpp:
      enabled: true
      lambda: 0.65
    topKFast: 64
    topKFinal: 12
embedding:
  cache:
    enabled: true
    ttl-hours: 4
domains:
  whitelist: gov.kr,go.kr,ac.kr,who.int,nature.com
